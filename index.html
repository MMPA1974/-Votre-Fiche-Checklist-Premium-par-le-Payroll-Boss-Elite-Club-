import React, { useState, useEffect } from 'react';

// Main App component
const App = () => {
  // Initial state for all checklist items
  // This structure allows easy tracking of each checkbox and its nested status
  const [checklistState, setChecklistState] = useState(() => {
    // Attempt to load state from localStorage or use default
    const savedState = localStorage.getItem('payrollChecklistState');
    return savedState ? JSON.parse(savedState) : {
      // Academic Checklist
      academic: {
        'PrÃ©parer son matÃ©riel d\'examen (stylos, chargeurs, etc.)': { 'Session 1': false, 'Session 2': false },
        'VÃ©rifier les modalitÃ©s spÃ©cifiques des Ã©preuves (asynchrone, non-chronomÃ©trÃ©)': { 'Session 1': false, 'Session 2': false },
        'S\'assurer de l\'accÃ¨s Ã  la copie Ã  rendre (cliquer "activer les modifications")': { 'Session 1': false, 'Session 2': false },
        'RÃ©aliser les Ã©preuves Ã©crites/vidÃ©o': { 'Session 1': false, 'Session 2': false },
        'GÃ©rer la pÃ©riode "Exam Week / Sprint Examen" (rÃ©visions ciblÃ©es, questions-rÃ©ponses)': { 'Session 1': false, 'Session 2': false },
        'Consulter les Lives Sprint Examen': { 'Session 1': false, 'Session 2': false },
        'Poser les derniÃ¨res questions sur le forum/aux responsables pÃ©dagogiques': { 'Session 1': false, 'Session 2': false },
        'Recevoir les rÃ©sultats de la session': { 'Session 1': false, 'Session 2': false },
        'Analyser ses rÃ©sultats et identifier les blocs/Ã©preuves validÃ©s': { 'Session 1': false, 'Session 2': false },
        'Recevoir les bulletins de notes provisoires': { 'Session 1': false, 'Session 2': false },
        'Confirmer la validation des compÃ©tences acquises': { 'Session 1': false, 'Session 2': false },
        'Recevoir les Parchemins / Attestation de blocs/bulletins finaux par mail': { 'Session 1': false, 'Session 2': false },
        'CÃ©lÃ©brer sa rÃ©ussite et se projeter vers la suite !': { 'Session 1': false, 'Session 2': false },
      },
      // General Preparation
      general: {
        'VÃ©rifier son Profil': false,
        'RÃ©aliser les 3 Certificats Studi (QCM par bloc)': false,
        'Consulter les diffÃ©rents guides (Formation, Blocs)': false,
        'S\'assurer d\'avoir bien abordÃ© la formation (guides, lives de bienvenue et de rentrÃ©e)': false,
        'RÃ©aliser toutes les Ã©valuations d\'entraÃ®nement (fortement recommandÃ©)': false,
        'Poser ses questions sur le forum': false,
      },
      // Skill Blocks
      bloc1: {
        'Module 1 : ParamÃ©trer le logiciel de paie': {
          'TÃ©lÃ©charger le logiciel': false,
          'La base de donnÃ©es 2019': false,
          'Lancement de l\'application': false,
          'DÃ©couverte de l\'application': false,
          'La crÃ©ation d\'une sociÃ©tÃ©': false,
          'Le paramÃ©trage d\'une sociÃ©tÃ©': false,
          'Le paramÃ©trage de l\'Ã©tablissement': false,
          'La crÃ©ation des fiches salariÃ©s': false,
          'Le paramÃ©trage des bulletins modÃ¨les': false,
          'Le paramÃ©trage du salaire brut': false,
          'Le paramÃ©trage des cotisations sociales': false,
          'Le paramÃ©trage des salaires nets': false,
          'Les dÃ©clarations sociales': false,
          'Questions frÃ©quentes': false,
          'L\'AccÃ¨s Ã  d\'autres logiciels de paie': false,
          'SynthÃ¨se et application : ParamÃ©trer le logiciel de paie': false,
        },
        'Module 2 : Collecter et traiter les variables de paie': {
          'Comment et pourquoi se former Ã  la collecte et au calcul des variables de paie': false,
          'PrÃ©sentation de la Gestion de la Paie': false,
          'La gestion de la paie (pour dÃ©butants)': false,
          'Le temps de travail': false,
          'La rÃ©munÃ©ration': false,
          'La prÃ©sentation et la mÃ©thodologie du bulletin de salaire': false,
          'Le rÃ¨glement du salaire': false,
          'Application : Collecter et traiter les variables de paie': false,
        },
        'Module 3 : GÃ©rer la rÃ©munÃ©ration': {
          'La prÃ©sentation et la mÃ©thodologie du bulletin de salaire': false,
          'Le rÃ¨glement du salaire': false,
          'La rÃ©munÃ©ration brute : l\'acquisition et la prise de congÃ©s payÃ©s': false,
          'La rÃ©munÃ©ration brute : lâ€™indemnitÃ© de congÃ©s payÃ©s': false,
          'La rÃ©munÃ©ration brute : les heures complÃ©mentaires': false,
          'PrÃ©sentation de la rÃ©munÃ©ration brute et de la durÃ©e lÃ©gale du travail': false,
          'PrÃ©sentation de la rÃ©munÃ©ration brute et le temps de travail effectif': false,
          'La rÃ©munÃ©ration brute : le salaire de base, les primes et la retenue pour absence': false,
          'La rÃ©munÃ©ration brute : les heures supplÃ©mentaires et le dimanche travaillÃ©': false,
          'La rÃ©munÃ©ration brute : les heures supplÃ©mentaires': false,
          'La rÃ©munÃ©ration brute : les avantages en nature': false,
          'La rÃ©munÃ©ration brute : lâ€™arrÃªt de travail, la retenue pour absence, la subrogation et les IJSS': false,
          'La rÃ©munÃ©ration brute : lâ€™arrÃªt de travail et le complÃ©ment employeur': false,
          'La grÃ¨ve et le lock-out': false,
        },
        'Module 4 : Traiter les bulletins de salaires': {
          'Le bulletin de salaire d\'un dirigeant sans contrat de travail': false,
          'L\'activitÃ© partielle': false,
          'Le bulletin de salaire VRP': false,
          'Le bulletin de salaire du BTP (ouvrier)': false,
          'Le bulletin de salaire du BTP (ETAM et Cadres)': false,
          'Le bulletin de salaire Apprenti': false,
          'La gratification stagiaire': false,
          'SynthÃ¨se et application : Collecter et traiter les variables de paie': false,
        },
        'Module 5 : ContrÃ´ler et Ã©diter les Bulletins de paie': {
          'Les diverses cotisations sociales': false,
          'Les bases de calcul des cotisations sociales': false,
          'Les rÃ©ductions de cotisations sociales': false,
          'Les rÃ©gularisations de cotisations sociales': false,
          'Le salaire net et le salaire imposable': false,
          'Les impacts du prÃ©lÃ¨vement Ã  la source': false,
          'Le salaire net Ã  payer et le net social': false,
          'SynthÃ¨se et application : ContrÃ´ler et Ã©diter les Bulletins de paie': false,
        },
        'Module 6 : GÃ©rer les dÃ©clarations sociales': {
          'Comment et pourquoi se former Ã  l\'Ã©dition et au contrÃ´le des dÃ©clarations sociales': false,
          'Le livre de paie': false,
          'Les modalitÃ©s dÃ©claratives': false,
          'Le contenu des dÃ©clarations sociales : la rÃ©duction gÃ©nÃ©rale et TEPA': false,
          'Le contenu des dÃ©clarations sociales : les cotisations, le PAS et les contributions sociales': false,
          'La gestion des arrÃªts de travail en paie': false,
          'La taxe d\'apprentissage': false,
          'La gestion de la dÃ©claration d\'emploi des travailleurs handicapÃ©s': false,
          'Les taxes sur les salaires': false,
          'La participation Ã  la formation continue': false,
          'L\'investissement obligatoire dans la construction': false,
          'SynthÃ¨se et application : GÃ©rer les dÃ©clarations sociales': false,
        },
        'Module 7 : Analyser les Ã©carts entre la paie et la comptabilitÃ©': {
          'Les enjeux de l\'identification et l\'analyse des Ã©carts entre la paie et la comptabilitÃ©': false,
          'La prÃ©sentation du plan comptable : gÃ©nÃ©ralitÃ©s': false,
          'Le grand livre comptable et les donnÃ©es paie': false,
          'Les opÃ©rations comptables issues de la paie': false,
          'Comptabilisation de la paie': false,
          'L\'analyse des causes': false,
          'L\'analyse des risques': false,
          'Les opÃ©rations de rÃ©gularisations': false,
          'SynthÃ¨se et application : Analyser les Ã©carts entre la paie et la comptabilitÃ©': false,
        },
      },
      bloc2: {
        'Module 1 : Etablir les contrats de travail': {
          'La notion de droit du travail': false,
          'La formation du contrat de travail': false,
          'MaÃ®triser la rÃ©daction dâ€™un contrat de travail': false,
          'Lâ€™exÃ©cution du contrat de travail': false,
          'Le contrat de travail Ã  durÃ©e indÃ©terminÃ©e': false,
          'Le CDD et le contrat de travail temporaire': false,
          'Le contrat de travail Ã  temps partiel': false,
          'Les contrats de formation': false,
          'La rÃ©daction du contrat de travail': false,
          'SynthÃ¨se et application : Etablir les contrats de travail': false,
        },
        'Module 2 : Traiter les entrÃ©es et sorties des salariÃ©s': {
          'Comment et pourquoi se former Ã  gestion des parcours salariÃ©s': false,
          'Le recrutement': false,
          'Les formalitÃ©s administratives d\'embauche': false,
          'La suspension du contrat de travail': false,
          'L\'Ã©dition des documents de suspension du contrat': false,
          'La rupture du contrat de travail : introduction': false,
          'Le licenciement': false,
          'Les autres modes de rupture du contrat de travail': false,
          'Les fins de contrat : cas du CDD, ICP, IndemnitÃ© RTT, ...': false,
          'Les fins de contrat : rupture conventionnelle, dÃ©part et mise Ã  la retraite': false,
          'Les formalitÃ©s de rupture du contrat de travail': false,
          'L\'Ã©dition des documents de fin de contrat': false,
          'SynthÃ¨se et application : Traiter les entrÃ©es et sorties des salariÃ©s': false,
        },
        'Module 3 : GÃ©rer les dossiers du personnel': {
          'La stratÃ©gie globale de digitalisation de l\'entreprise': false,
          'La transition numÃ©rique': false,
          'La digitalisation de la fonction RH': false,
          'La digitalisation des dossiers du personnel': false,
          'Le coffre fort numÃ©rique': false,
          'RGPD : RÃ¨glement GÃ©nÃ©ral de Protection des DonnÃ©es': false,
          'SynthÃ¨se et application : GÃ©rer les dossiers du personnel': false,
        },
        'Module 4 : Communiquer avec les partenaires externes': {
          'Les partenaires externes du service paie': false,
          'Les outils de communication du service paie avec ses partenaires': false,
          'Les contrÃ´les de lâ€™application du droit du travail': false,
          'Le contentieux de la relation de travail': false,
          'Les procÃ©dures de rÃ¨glement des conflits collectifs': false,
          'Les contrÃ´les et le contentieux social': false,
          'Le rÃ´le et le contrÃ´le de l\'URSSAF': false,
          'SynthÃ¨se et application : Communiquer avec les partenaires externes': false,
        },
      },
      bloc3: {
        'Module 1 : RÃ©aliser une veille juridique': {
          'Le conseil et l\'assistance Ã  la direction et aux collaborateurs': false,
          'La dÃ©marche de veille': false,
          'La veille juridique': false,
          'Les diffÃ©rents types de veille': false,
          'La notion de droit du travail': false,
          'Les sources professionnelles du droit du travail': false,
          'La hiÃ©rarchie des sources du droit du travail': false,
          'La protection sociale, gÃ©nÃ©ralitÃ©s': false,
          'La formation professionnelle': false,
          'Les pouvoirs de lâ€™employeur et la protection de la santÃ© des salariÃ©s': false,
          'Comment effectuer une veille active': false,
          'Le support de communication de la veille juridique': false,
          'SynthÃ¨se et application : RÃ©aliser une veille juridique': false,
        },
        'Module 2 : Diagnostiquer le conformitÃ© de la paie': {
          'L\'analyse documentaire': false,
          'La collecte des informations auprÃ¨s des dÃ©cideurs': false,
          'L\'identification des Ã©carts': false,
          'L\'identification des risques encourus': false,
          'Les actions correctrices': false,
          'Le rapport de diagnostic': false,
          'SynthÃ¨se et application : Diagnostiquer le conformitÃ© de la paie': false,
        },
        'Module 3 : Communiquer avec les collaborateurs et managers': {
          'Les fondamentaux de la communication professionnelle': false,
          'L\'Ã©coute active': false,
          'La communication non verbale': false,
          'Les fondamentaux de la prise de parole en public': false,
          'Les rÃ©unions Ã  distances': false,
          'RÃ©diger une rÃ©ponse professionnelle': false,
          'Les fondamentaux de la sÃ©curitÃ© sociale': false,
          'Lâ€™assurance maladie du rÃ©gime gÃ©nÃ©ral': false,
          'Lâ€™assurance vieillesse du rÃ©gime gÃ©nÃ©ral': false,
          'La protection contre le chÃ´mage': false,
          'SynthÃ¨se et application : Communiquer avec les collaborateurs et managers': false,
        },
        'Module 4 : Concevoir des supports de reporting et dâ€™aide Ã  la dÃ©cision': {
          'Les fondamentaux d\'excel': false,
          'Le calcul des effectifs': false,
          'Le bilan social': false,
          'Le recueil prÃ©alable des informations RH': false,
          'L\'Ã©dition des tableaux de bord sociaux': false,
          'L\'analyse et le suivi des tableaux de bord sociaux': false,
          'L\'analyse et la prÃ©vision de la masse salariale': false,
          'Lâ€™association des salariÃ©s aux performances de lâ€™entreprise, gÃ©nÃ©ralitÃ©s': false,
          'La participation': false,
          'L\'intÃ©ressement': false,
          'Les plans dâ€™Ã©pargne salariale': false,
          'SynthÃ¨se et application : Concevoir des supports de reporting et dâ€™aide Ã  la dÃ©cision': false,
        },
        'Module 5 : Assister les utilisateurs du SIRH': {
          'L\'utilisation d\'un SIRH': false,
          'Les enjeux d\'un SIRH': false,
          'Les fonctionnalitÃ©s du SIRH': false,
          'La rÃ©glementation inhÃ©rente aux SIRH': false,
          'Introduction Ã  la notion de base de donnÃ©es': false,
          'L\'exploitation des bases de donnÃ©es': false,
          'L\'utilisation du SIRH au quotidien par le collaborateur': false,
          'Proder Talentsoft ou cornerstone': false,
          'La rÃ©daction des courriers Ã  destination du personnel': false,
          'SynthÃ¨se et application : Assister les utilisateurs du SIRH': false,
        },
      },
      // Well-being Checklist
      wellbeing: {
        'Moi, ma bulle de bonheur !': {
          'Prendre un moment pour soi (soin, lecture, mÃ©ditation, un bon bain moussant !)': false,
          'Faire une activitÃ© physique lÃ©gÃ¨re (promenade, yoga, danse endiablÃ©e !)': false,
          'S\'accorder une pause "plaisir" (film, musique, hobby, ou juste ne rien faire !)': false,
          'DÃ©connecter des Ã©crans au moins 1h avant de dormir (bye bye le tÃ©lÃ©phone !)': false,
          'Faire des exercices de respiration ou de pleine conscience (pour une zÃ©nitude absolue !)': false,
        },
        'Mon corps, mon temple !': {
          'PrÃ©parer des repas Ã©quilibrÃ©s et ultra-gourmands pour la semaine (miam !)': false,
          'Dormir au moins 7-8 heures par nuit (le sommeil, c\'est sacrÃ© !)': false,
          'Boire suffisamment d\'eau tout au long de la journÃ©e (hydratation = super-pouvoirs !)': false,
        },
        'Ma tribu, ma force !': {
          'Passer du temps de qualitÃ© avec la famille/les enfants (rires garantis !)': false,
          'Organiser une sortie ou un appel avec des amis/partenaire (partage et bonne humeur !)': false,
        },
      },
    };
  });

  // Save state to localStorage whenever it changes
  useEffect(() => {
    localStorage.setItem('payrollChecklistState', JSON.stringify(checklistState));
  }, [checklistState]);

  // State for countdown
  const [daysRemaining, setDaysRemaining] = useState(0);

  // Calculate days remaining until VINCI promotion (December 1, 2025)
  useEffect(() => {
    const calculateCountdown = () => {
      const targetDate = new Date('2025-12-01T00:00:00'); // Target date for VINCI promotion
      const now = new Date();
      const difference = targetDate.getTime() - now.getTime();
      const days = Math.ceil(difference / (1000 * 60 * 60 * 24));
      setDaysRemaining(days > 0 ? days : 0);
    };

    calculateCountdown();
    const interval = setInterval(calculateCountdown, 1000 * 60 * 60 * 24); // Update daily
    return () => clearInterval(interval);
  }, []);

  // Function to handle checkbox changes
  const handleCheckboxChange = (section, item, subItem = null) => {
    setChecklistState(prevState => {
      const newState = { ...prevState };
      if (subItem) {
        newState[section][item] = {
          ...newState[section][item],
          [subItem]: !newState[section][item][subItem]
        };
      } else if (typeof newState[section][item] === 'boolean') {
        newState[section][item] = !newState[section][item];
      } else { // For sections with nested sub-items like 'Moi, ma bulle de bonheur !'
        newState[section] = {
          ...newState[section],
          [item]: {
            ...newState[section][item],
            [subItem]: !newState[section][item][subItem]
          }
        };
      }
      return newState;
    });
  };

  // Function to calculate progress for a given block
  const calculateBlockProgress = (blockKey) => {
    const block = checklistState[blockKey];
    if (!block) return 0;

    let totalItems = 0;
    let completedItems = 0;

    // Iterate through modules in the block
    for (const moduleName in block) {
      const moduleItems = block[moduleName];
      // Iterate through items within each module
      for (const itemName in moduleItems) {
        totalItems++;
        if (moduleItems[itemName]) {
          completedItems++;
        }
      }
    }

    return totalItems > 0 ? Math.round((completedItems / totalItems) * 100) : 0;
  };

  // Component for collapsible sections (e.g., skill modules, well-being categories)
  const CollapsibleSection = ({ title, children }) => {
    const [isOpen, setIsOpen] = useState(false);

    return (
      <div className="mb-4 bg-white p-4 rounded-xl shadow-md">
        <button
          className="w-full text-left font-semibold text-lg flex justify-between items-center text-gray-800 focus:outline-none"
          onClick={() => setIsOpen(!isOpen)}
        >
          {title}
          <svg
            className={`w-5 h-5 transform transition-transform duration-200 ${
              isOpen ? 'rotate-180' : ''
            }`}
            fill="none"
            stroke="currentColor"
            viewBox="0 0 24 24"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path strokeLinecap="round" strokeLinejoin="round" strokeWidth="2" d="M19 9l-7 7-7-7"></path>
          </svg>
        </button>
        {isOpen && <div className="mt-4">{children}</div>}
      </div>
    );
  };

  return (
    <div className="min-h-screen bg-gradient-to-br from-purple-100 to-indigo-200 font-inter p-4 sm:p-6 lg:p-8">
      <script src="https://cdn.tailwindcss.com"></script>
      <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet" />

      {/* Tailwind CSS Configuration for Inter font */}
      <style>{`
        body { font-family: 'Inter', sans-serif; }
        .font-inter { font-family: 'Inter', sans-serif; }
      `}</style>

      {/* Header Section */}
      <header className="text-center mb-8 bg-white p-6 rounded-xl shadow-lg">
        <h1 className="text-3xl sm:text-4xl font-bold text-indigo-800 mb-2">
          ğŸ‰ Votre Fiche Checklist Premium
        </h1>
        <p className="text-xl sm:text-2xl text-purple-700 font-semibold mb-4">
          par le <span className="text-orange-500">ğŸ”¥ Payroll Boss Elite Club ğŸ‘‘</span> !
        </p>
        <p className="text-md sm:text-lg text-gray-700 mb-4">
          Bienvenue, Future Boss de la Paie ! ğŸš€ PrÃ©parez-vous Ã  conquÃ©rir la promotion VINCI (DÃ©cembre 2025) avec cette fiche personnalisÃ©e qui va faire Ã©clater votre potentiel ! ğŸŒŸ Cochez chaque Ã©tape et ressentez la puissance de l'organisation ! ğŸ’ªğŸ’–
        </p>
        <div className="flex flex-wrap justify-center gap-4 text-sm sm:text-base">
          <a
            href="https://discord.com/" // Placeholder link
            target="_blank"
            rel="noopener noreferrer"
            className="bg-indigo-600 hover:bg-indigo-700 text-white font-semibold py-2 px-4 rounded-full shadow-md transition duration-300 ease-in-out transform hover:scale-105"
          >
            Discord : ğŸ”¥Payroll Boss Elite Club ğŸ‘‘| Infos & Actus
          </a>
          <a
            href="https://wa.me/" // Placeholder link
            target="_blank"
            rel="noopener noreferrer"
            className="bg-green-500 hover:bg-green-600 text-white font-semibold py-2 px-4 rounded-full shadow-md transition duration-300 ease-in-out transform hover:scale-105"
          >
            WhatsApp : ğŸ”¥ Payroll Boss Elite Club : Le Hub Paie & ProgrÃ¨s ğŸ“ˆ
          </a>
        </div>
      </header>

      {/* Countdown Section */}
      <section className="text-center mb-8 bg-white p-6 rounded-xl shadow-lg border-l-4 border-purple-500">
        <p className="text-2xl sm:text-3xl font-bold text-gray-800">
          â³ J-{daysRemaining} avant la promotion VINCI (01/12/2025) !
        </p>
        <p className="text-gray-600 text-sm mt-2">
          (Note : Ce compte Ã  rebours est dynamique, affichant le nombre de jours restants jusqu'Ã  la promotion.)
        </p>
      </section>

      <main className="max-w-6xl mx-auto">
        {/* Academic Checklist Section */}
        <section className="mb-8 bg-white p-6 rounded-xl shadow-lg">
          <h2 className="text-2xl sm:text-3xl font-bold text-indigo-700 mb-6 border-b-2 pb-2 border-indigo-200">
            âœ… Checklist AcadÃ©mique : Ma Roadmap vers le SuccÃ¨s Vinci ! ğŸ“
          </h2>
          <p className="text-gray-700 mb-4 text-lg">
            ğŸ¯ Toutes les Ã‰tapes de votre Roadmap par Session !
          </p>
          <div className="overflow-x-auto">
            <table className="min-w-full bg-white rounded-lg shadow-inner">
              <thead className="bg-purple-100">
                <tr>
                  <th className="py-3 px-4 text-left text-sm font-semibold text-gray-700 uppercase tracking-wider rounded-tl-lg">
                    Action
                  </th>
                  <th className="py-3 px-4 text-center text-sm font-semibold text-gray-700 uppercase tracking-wider">
                    Session 1 (27/10/2025 - 21/11/2025)
                  </th>
                  <th className="py-3 px-4 text-center text-sm font-semibold text-gray-700 uppercase tracking-wider rounded-tr-lg">
                    Session 2 (13/01/2026 - 30/01/2026)
                  </th>
                </tr>
              </thead>
              <tbody className="divide-y divide-gray-200">
                {Object.keys(checklistState.academic).map((item, index) => (
                  <tr key={index} className="hover:bg-gray-50">
                    <td className="py-3 px-4 text-gray-800 text-base">{item}</td>
                    <td className="py-3 px-4 text-center">
                      <input
                        type="checkbox"
                        className="form-checkbox h-5 w-5 text-purple-600 rounded focus:ring-purple-500"
                        checked={checklistState.academic[item]['Session 1']}
                        onChange={() => handleCheckboxChange('academic', item, 'Session 1')}
                      />
                    </td>
                    <td className="py-3 px-4 text-center">
                      <input
                        type="checkbox"
                        className="form-checkbox h-5 w-5 text-purple-600 rounded focus:ring-purple-500"
                        checked={checklistState.academic[item]['Session 2']}
                        onChange={() => handleCheckboxChange('academic', item, 'Session 2')}
                      />
                    </td>
                  </tr>
                ))}
              </tbody>
            </table>
          </div>
        </section>

        {/* General Preparation Section */}
        <section className="mb-8 bg-white p-6 rounded-xl shadow-lg">
          <h2 className="text-2xl sm:text-3xl font-bold text-indigo-700 mb-6 border-b-2 pb-2 border-indigo-200">
            ğŸš€ DÃ©marrage & PrÃ©paration GÃ©nÃ©rale !
          </h2>
          <div className="grid grid-cols-1 md:grid-cols-2 gap-4">
            {Object.keys(checklistState.general).map((item, index) => (
              <div key={index} className="flex items-center bg-gray-50 p-3 rounded-lg shadow-sm">
                <input
                  type="checkbox"
                  id={`general-${index}`}
                  className="form-checkbox h-5 w-5 text-purple-600 rounded focus:ring-purple-500 mr-3"
                  checked={checklistState.general[item]}
                  onChange={() => handleCheckboxChange('general', item)}
                />
                <label htmlFor={`general-${index}`} className="text-gray-800 text-base cursor-pointer">
                  {item}
                </label>
              </div>
            ))}
          </div>
        </section>

        {/* Skill Blocks Section */}
        <section className="mb-8 bg-white p-6 rounded-xl shadow-lg">
          <h2 className="text-2xl sm:text-3xl font-bold text-indigo-700 mb-6 border-b-2 pb-2 border-indigo-200">
            ğŸ§  MaÃ®trise des Blocs de CompÃ©tences !
          </h2>

          {['bloc1', 'bloc2', 'bloc3'].map((blockKey, blockIndex) => {
            const progress = calculateBlockProgress(blockKey);
            const blockTitle = `Bloc ${blockIndex + 1} : ${
              blockKey === 'bloc1' ? 'GÃ©rer la paie et les dÃ©clarations sociales' :
              blockKey === 'bloc2' ? 'Assurer la Gestion administrative du personnel' :
              'Conseiller et assister les dÃ©cideurs et les collaborateurs'
            }`;

            return (
              <div key={blockKey} className="mb-8 p-4 bg-purple-50 rounded-xl shadow-inner">
                <h3 className="text-xl sm:text-2xl font-semibold text-purple-800 mb-3">
                  {blockTitle}
                </h3>
                <div className="w-full bg-gray-200 rounded-full h-4 mb-4">
                  <div
                    className="bg-gradient-to-r from-purple-500 to-indigo-500 h-4 rounded-full text-xs font-medium text-white text-center p-0.5 leading-none"
                    style={{ width: `${progress}%` }}
                  >
                    {progress}% complÃ©tÃ©
                  </div>
                </div>

                {Object.keys(checklistState[blockKey]).map((moduleName, moduleIndex) => (
                  <CollapsibleSection key={moduleIndex} title={moduleName}>
                    <div className="grid grid-cols-1 sm:grid-cols-2 gap-3">
                      {Object.keys(checklistState[blockKey][moduleName]).map((item, itemIndex) => (
                        <div key={itemIndex} className="flex items-center bg-gray-50 p-3 rounded-lg shadow-sm">
                          <input
                            type="checkbox"
                            id={`${blockKey}-${moduleIndex}-${itemIndex}`}
                            className="form-checkbox h-5 w-5 text-purple-600 rounded focus:ring-purple-500 mr-3"
                            checked={checklistState[blockKey][moduleName][item]}
                            onChange={() => handleCheckboxChange(blockKey, moduleName, item)}
                          />
                          <label htmlFor={`${blockKey}-${moduleIndex}-${itemIndex}`} className="text-gray-800 text-base cursor-pointer">
                            {item}
                          </label>
                        </div>
                      ))}
                    </div>
                  </CollapsibleSection>
                ))}
              </div>
            );
          })}
        </section>

        {/* Well-being Checklist Section */}
        <section className="mb-8 bg-white p-6 rounded-xl shadow-lg">
          <h2 className="text-2xl sm:text-3xl font-bold text-indigo-700 mb-6 border-b-2 pb-2 border-indigo-200">
            ğŸŒŸ Checklist Bien-Ãªtre & Ã‰quilibre : La Boss que vous Ãªtes ! ğŸ’–
          </h2>
          <p className="text-gray-700 mb-4 text-lg">
            Parce qu'une Boss de la Paie au top, c'est aussi une Boss Ã©panouie et sereine ! âœ¨ Prenez soin de vous, c'est la clÃ© de la rÃ©ussite durable !
          </p>

          {Object.keys(checklistState.wellbeing).map((category, categoryIndex) => (
            <CollapsibleSection key={categoryIndex} title={category}>
              <div className="grid grid-cols-1 sm:grid-cols-2 gap-3">
                {Object.keys(checklistState.wellbeing[category]).map((item, itemIndex) => (
                  <div key={itemIndex} className="flex items-center bg-gray-50 p-3 rounded-lg shadow-sm">
                    <input
                      type="checkbox"
                      id={`wellbeing-${categoryIndex}-${itemIndex}`}
                      className="form-checkbox h-5 w-5 text-purple-600 rounded focus:ring-purple-500 mr-3"
                      checked={checklistState.wellbeing[category][item]}
                      onChange={() => handleCheckboxChange('wellbeing', category, item)}
                    />
                    <label htmlFor={`wellbeing-${categoryIndex}-${itemIndex}`} className="text-gray-800 text-base cursor-pointer">
                      {item}
                    </label>
                  </div>
                ))}
              </div>
            </CollapsibleSection>
          ))}
        </section>

        {/* Boss Tips Section */}
        <section className="mb-8 bg-white p-6 rounded-xl shadow-lg">
          <h2 className="text-2xl sm:text-3xl font-bold text-indigo-700 mb-6 border-b-2 pb-2 border-indigo-200">
            ğŸ’¡ Conseils de Boss pour une PrÃ©paration au TOP du TOP ! ğŸ“ˆ
          </h2>

          <div className="space-y-6">
            <div className="bg-purple-50 p-4 rounded-xl shadow-inner border-l-4 border-purple-400">
              <h3 className="text-xl font-semibold text-purple-800 mb-2">
                ğŸ—“ï¸ Ã€ 2 mois de l'examen : Le Grand DÃ©marrage ! ğŸš€
              </h3>
              <p className="text-gray-700">
                C'est le moment de poser les fondations de votre succÃ¨s ! ğŸ§± Plongez dans les bases de chaque module, organisez un emploi du temps de rÃ©vision qui vous ressemble (et que vous allez ADORER suivre ! ğŸ˜‰). Identifiez vos zones de gÃ©nie et celles qui demandent un petit coup de boost pour y mettre toute votre Ã©nergie ! ğŸ¯
              </p>
            </div>

            <div className="bg-purple-50 p-4 rounded-xl shadow-inner border-l-4 border-purple-400">
              <h3 className="text-xl font-semibold text-purple-800 mb-2">
                ğŸ—“ï¸ Ã€ 1 mois de l'examen : L'AccÃ©lÃ©ration Finale ! âš¡
              </h3>
              <p className="text-gray-700">
                On passe Ã  la vitesse supÃ©rieure ! ğŸš€ Intensifiez vos rÃ©visions, dÃ©fiez-vous avec des annales d'examens et des exercices types. C'est le terrain de jeu idÃ©al pour maÃ®triser votre temps et apprivoiser le stress comme une vraie Boss ! ğŸ‘‘ Pratiquez, pratiquez, pratiquez ! ğŸ§ âœ¨
              </p>
            </div>

            <div className="bg-purple-50 p-4 rounded-xl shadow-inner border-l-4 border-purple-400">
              <h3 className="text-xl font-semibold text-purple-800 mb-2">
                ğŸ—“ï¸ Ã€ 1 semaine de l'examen : La SÃ©rÃ©nitÃ© avant la TempÃªte ! ğŸ§˜â€â™€ï¸
              </h3>
              <p className="text-gray-700">
                Stop aux nouvelles notions ! ğŸš« C'est la semaine de la consolidation et du bien-Ãªtre. Assurez-vous que tout votre arsenal pour l'examen est prÃªt (stylos chanceux, chargeurs, etc. !). ğŸ€ PrioritÃ© absolue : un sommeil de champion(ne) et une alimentation qui vous donne des super-pouvoirs ! ğŸğŸ˜´
              </p>
            </div>

            <div className="bg-purple-50 p-4 rounded-xl shadow-inner border-l-4 border-purple-400">
              <h3 className="text-xl font-semibold text-purple-800 mb-2">
                ğŸ—“ï¸ 2 jours avant l'examen & le Jour J : La Victoire est en Vue ! ğŸ†
              </h3>
              <p className="text-gray-700 mb-2">
                ON ARRÃŠTE TOUT ! ğŸ›‘ Oui, oui, vous avez bien lu ! C'est le moment de dÃ©compresser et de recharger les batteries. Voici quelques astuces pour ces derniers jours cruciaux :
              </p>
              <ul className="list-disc list-inside text-gray-700 space-y-1 ml-4">
                <li><span className="font-semibold">Bureau au top :</span> ğŸ§¹ PrÃ©pare ton espace de travail : dÃ©gagÃ©, propre, avec juste l'essentiel. Mieux vaut la qualitÃ© que la quantitÃ© de bouquins !</li>
                <li><span className="font-semibold">Tech check :</span> ğŸ’» VÃ©rifie que ton ordi, tes Ã©crans, et tous tes outils (tÃ©lÃ©phone, etc.) fonctionnent et sont bien chargÃ©s. Pense Ã  un deuxiÃ¨me Ã©cran si tu en as besoin, on ne sait jamais !</li>
                <li><span className="font-semibold">Zone zÃ©ro dÃ©rangement :</span> ğŸ¤« Assure-toi d'Ãªtre dans un espace isolÃ©. N'hÃ©site pas Ã  mettre un panneau "NE PAS DÃ‰RANGER - RISQUE DE MORSURE" sur ta porte ! ğŸ˜‚</li>
                <li><span className="font-semibold">Ambiance parfaite :</span> ğŸ’¡ LumiÃ¨re agrÃ©able, bien aÃ©rÃ©, ni trop chaud, ni trop froid. Tes lunettes/lentilles Ã  portÃ©e de main !</li>
                <li><span className="font-semibold">Hydratation & Ã©nergie :</span> ğŸ’§ De quoi boire (beaucoup d'EAU, pas de sucre !) et grignoter sainement (pas un repas complet !). Respecte ta pause dÃ©jeuner si tu bosses toute la journÃ©e.</li>
                <li><span className="font-semibold">Stop quand il faut :</span> â° Si aprÃ¨s 3h-3h30 tu sens que tu en peux plus, STOP ! Ferme tout, prends une vraie pause (sieste, promenade), et reviens calmement. Pas de panique ! "Ã€ tout problÃ¨me, il y a deux solutions : la bonne et la bonne. Si tu ne trouves pas de rÃ©ponse Ã  ta problÃ©matique, c'est qu'il n'y a pas de problÃ¨me." ğŸ˜‰</li>
              </ul>
              <p className="text-gray-700 mt-4 mb-2 font-semibold">
                Le Jour J, soyez prÃªte comme jamais :
              </p>
              <ul className="list-disc list-inside text-gray-700 space-y-1 ml-4">
                <li><span className="font-semibold">Dernier check bureau :</span> âœ… Ton bureau est prÃªt depuis 2 jours, mais vÃ©rifie une derniÃ¨re fois que personne n'y a touchÃ© (surtout si tu as des enfants !). Ta trousse, tes crayons, tout est lÃ  ?</li>
                <li><span className="font-semibold">Projection & Look de Boss :</span> ğŸ’¼ PrÃ©pare tes vÃªtements la veille. Projette-toi : "Demain, je suis une gestionnaire de paie, je vais au bureau, je vais traiter ma paie." Habille-toi comme si tu allais vraiment travailler !</li>
                <li><span className="font-semibold">Bien-Ãªtre matinal :</span> ğŸš¿ Une bonne douche fraÃ®che (si c'est l'Ã©tÃ© ou si tu aimes !), un super petit-dÃ©jeuner.</li>
                <li><span className="font-semibold">Mindset de champion(ne) :</span> ğŸ§˜â€â™€ï¸ Si tu aimes, fais un peu de mÃ©ditation. Pense aux Quatre Accords ToltÃ¨ques (et au cinquiÃ¨me !). Laisse ces pensÃ©es tourner en boucle, c'est reposant.</li>
                <li><span className="font-semibold">Amuse-toi !</span> ğŸ­ Prends Ã§a comme un jeu, une piÃ¨ce de thÃ©Ã¢tre oÃ¹ tu es la star. Ã‰clate-toi, c'est comme Ã§a qu'il faut prendre la vie ! Imagine que tu as des collÃ¨gues, que tu es dÃ©jÃ  Ã  ton poste.</li>
              </ul>
              <p className="text-center text-lg font-bold text-purple-700 mt-4">
                Tu es une Payroll Boss Elite ! La confiance est ton super-pouvoir ! âœ¨
              </p>
            </div>
          </div>
        </section>
      </main>

      {/* Footer Section */}
      <footer className="text-center mt-8 bg-white p-6 rounded-xl shadow-lg">
        <button
          onClick={() => window.print()}
          className="bg-indigo-600 hover:bg-indigo-700 text-white font-semibold py-3 px-6 rounded-full shadow-md transition duration-300 ease-in-out transform hover:scale-105 mb-4"
        >
          ğŸ–¨ï¸ Imprimer ma Checklist
        </button>
        <p className="text-gray-700 mb-4">
          Ou rejoignez-nous directement pour plus de soutien :
        </p>
        <div className="flex flex-wrap justify-center gap-4 text-sm sm:text-base">
          <a
            href="https://discord.com/" // Placeholder link
            target="_blank"
            rel="noopener noreferrer"
            className="bg-indigo-600 hover:bg-indigo-700 text-white font-semibold py-2 px-4 rounded-full shadow-md transition duration-300 ease-in-out transform hover:scale-105"
          >
            Discord : ğŸ”¥Payroll Boss Elite Club ğŸ‘‘| Infos & Actus
          </a>
          <a
            href="https://wa.me/" // Placeholder link
            target="_blank"
            rel="noopener noreferrer"
            className="bg-green-500 hover:bg-green-600 text-white font-semibold py-2 px-4 rounded-full shadow-md transition duration-300 ease-in-out transform hover:scale-105"
          >
            WhatsApp : ğŸ”¥ Payroll Boss Elite Club : Le Hub Paie & ProgrÃ¨s ğŸ“ˆ
          </a>
        </div>
      </footer>
    </div>
  );
};

export default App;
